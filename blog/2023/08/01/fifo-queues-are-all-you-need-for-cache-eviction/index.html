<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Simple, scalable and efficient caching with S3-FIFO"><link href=../../../06/01/fifo-is-better-than-lru-the-power-of-lazy-promotion-and-quick-demotion/ rel=prev><link rel=icon href=../../../../../assets/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.2.0-b0"><title>FIFO queues are all you need for cache eviction - S3-FIFO: Simple, scalable and efficient caching</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.0c456da8.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../stylesheets/extra.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><!-- Determine title --><!--  --><!--  --><!-- The image needs to have an absolute URL --><!--  --><!-- Open graph meta tags --><meta property=og:type content=website><meta property=og:title content="S3-FIFO: Simple, scalable and efficient caching - FIFO queues are all you need for cache eviction"><meta property=og:description content="Simple, scalable and efficient caching with S3-FIFO"><meta property=og:url content=None><meta property=og:image content=Noneassets/images/illustrations/banner.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1080><meta property=og:image:height content=568><!-- google-site-verification meta-tag --><meta name=google-site-verification content=-Rj8YMCn9uu5IwOFdC-WfAzXp4ZOMJtYKxU40ZgcJIU><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900&display=swap" rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/tw-elements/dist/css/tw-elements.min.css><script src=https://cdn.jsdelivr.net/npm/tw-elements/dist/js/tw-elements.umd.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/prism.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/components/prism-python.min.js integrity="sha512-3qtI9+9JXi658yli19POddU1RouYtkTEhTHo6X5ilOvMiDfNvo6GIS6k2Ukrsx8MyaKSXeVrnIWeyH8G5EOyIQ==" crossorigin=anonymous referrerpolicy=no-referrer></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/themes/prism-okaidia.min.css integrity="sha512-5HvW0a7ihK3ro2KhwEksDHXgIezsTeZybZDIn8d8Y015Ny+t7QWSIjnlCTjFzlK7Klb604HLGjsNqU/i5mJLjQ==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/plugins/line-numbers/prism-line-numbers.min.css integrity="sha512-3/cdM9qaJ5lBlzRKqwhMw+ZcNCVonz66BO6HgJudG/P1azm9wFrru31SsBa4T4Ew1AOH8HfDXSWS6emWwPl42A==" crossorigin=anonymous referrerpolicy=no-referrer><script src=https://cdnjs.cloudflare.com/ajax/libs/prism/9000.0.1/plugins/line-numbers/prism-line-numbers.min.js integrity="sha512-QTYXYEniHb1m0ZKtSyfpmw40uH9vPfV07vxsv/plIRMEiON4yOp2qoZiv/FTqFIOym4bdQ4+p9RtHaCMC0ApRw==" crossorigin=anonymous referrerpolicy=no-referrer></script><script>document.body.className += ' ' + 'line-numbers';</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin=anonymous referrerpolicy=no-referrer><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-MZCBZV7YYN"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-MZCBZV7YYN');
</script><!-- Default Statcounter code for S3FIFO https://s3fifo.com
--><script type=text/javascript>
  var sc_project=12908806; 
  var sc_invisible=1; 
  var sc_security="2bab17d3"; 
  </script><script type=text/javascript src=https://www.statcounter.com/counter/counter.js async></script><noscript><div class=statcounter><a title="website
  statistics" href=https://statcounter.com/ target=_blank><img class=statcounter src=https://c.statcounter.com/12908806/0/2bab17d3/1/ alt="website statistics" referrerpolicy=no-referrer-when-downgrade></a></div></noscript><!-- End of Statcounter Code --></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#fifo-queues-are-all-you-need-for-cache-eviction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title="S3-FIFO: Simple, scalable and efficient caching" class="md-header__button md-logo" aria-label="S3-FIFO: Simple, scalable and efficient caching" data-md-component=logo> <img src=../../../../../assets/images/logos/s3fifo-logo1.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> S3-FIFO: Simple, scalable and efficient caching </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FIFO queues are all you need for cache eviction </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Blog </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="S3-FIFO: Simple, scalable and efficient caching" class="md-nav__button md-logo" aria-label="S3-FIFO: Simple, scalable and efficient caching" data-md-component=logo> <img src=../../../../../assets/images/logos/s3fifo-logo1.svg alt=logo> </a> S3-FIFO: Simple, scalable and efficient caching </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <div class="md-nav__link md-nav__container"> <a href=../../../../ class="md-nav__link "> <span class=md-ellipsis> Blog </span> </a> <label class="md-nav__link " for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> FIFO queues are all you need for cache eviction </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> FIFO queues are all you need for cache eviction </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> Background </a> <nav class=md-nav aria-label=Background> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lru-and-fifo-based-eviction class=md-nav__link> LRU and FIFO based eviction </a> </li> <li class=md-nav__item> <a href=#the-importance-of-simplicity-and-scalability class=md-nav__link> The importance of simplicity and scalability </a> </li> <li class=md-nav__item> <a href=#fifo-is-the-future class=md-nav__link> FIFO is the future </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#observation-more-one-hit-wonders-than-you-would-have-expected class=md-nav__link> Observation: more one-hit wonders than you would have expected </a> <nav class=md-nav aria-label="Observation: more one-hit wonders than you would have expected"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-toy-example class=md-nav__link> A toy example </a> </li> <li class=md-nav__item> <a href=#examples-from-production-traces class=md-nav__link> Examples from production traces </a> </li> <li class=md-nav__item> <a href=#implication-of-a-large-one-hit-wonder-ratio class=md-nav__link> Implication of a large one-hit-wonder ratio </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#s3-fifo-an-eviction-algorithm-with-only-fifo-queues class=md-nav__link> S3-FIFO: an eviction algorithm with only FIFO queues </a> <nav class=md-nav aria-label="S3-FIFO: an eviction algorithm with only FIFO queues"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementation class=md-nav__link> Implementation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-does-s3-fifo-compare-to-other-algorithms class=md-nav__link> How does S3-FIFO compare to other algorithms </a> <nav class=md-nav aria-label="How does S3-FIFO compare to other algorithms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dataset-we-used-in-this-blog class=md-nav__link> Dataset we used in this blog </a> </li> <li class=md-nav__item> <a href=#experiemnt-setup class=md-nav__link> Experiemnt setup </a> </li> <li class=md-nav__item> <a href=#efficiency-results class=md-nav__link> Efficiency results </a> </li> <li class=md-nav__item> <a href=#throughput-results class=md-nav__link> Throughput results </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#why-dont-adaptive-algorithms-work-well class=md-nav__link> Why don't adaptive algorithms work well? </a> <nav class=md-nav aria-label="Why don't adaptive algorithms work well?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#can-we-tune-the-adaptive-algorithms-to-work-better class=md-nav__link> Can we tune the adaptive algorithms to work better? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> Conclusion </a> </li> <li class=md-nav__item> <a href=#acknowledgement class=md-nav__link> Acknowledgement </a> <nav class=md-nav aria-label=Acknowledgement> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dataset-information class=md-nav__link> Dataset information </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../06/01/fifo-is-better-than-lru-the-power-of-lazy-promotion-and-quick-demotion/ class=md-nav__link> <span class=md-ellipsis> the Power of Lazy Promotion and Quick Demotion </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Archive </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Archive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../archive/2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class=md-ellipsis> Categories </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Categories </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../category/algorithm/ class=md-nav__link> <span class=md-ellipsis> Algorithm </span> </a> </li> <li class=md-nav__item> <a href=../../../../category/performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#background class=md-nav__link> Background </a> <nav class=md-nav aria-label=Background> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lru-and-fifo-based-eviction class=md-nav__link> LRU and FIFO based eviction </a> </li> <li class=md-nav__item> <a href=#the-importance-of-simplicity-and-scalability class=md-nav__link> The importance of simplicity and scalability </a> </li> <li class=md-nav__item> <a href=#fifo-is-the-future class=md-nav__link> FIFO is the future </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#observation-more-one-hit-wonders-than-you-would-have-expected class=md-nav__link> Observation: more one-hit wonders than you would have expected </a> <nav class=md-nav aria-label="Observation: more one-hit wonders than you would have expected"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#a-toy-example class=md-nav__link> A toy example </a> </li> <li class=md-nav__item> <a href=#examples-from-production-traces class=md-nav__link> Examples from production traces </a> </li> <li class=md-nav__item> <a href=#implication-of-a-large-one-hit-wonder-ratio class=md-nav__link> Implication of a large one-hit-wonder ratio </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#s3-fifo-an-eviction-algorithm-with-only-fifo-queues class=md-nav__link> S3-FIFO: an eviction algorithm with only FIFO queues </a> <nav class=md-nav aria-label="S3-FIFO: an eviction algorithm with only FIFO queues"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementation class=md-nav__link> Implementation </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#how-does-s3-fifo-compare-to-other-algorithms class=md-nav__link> How does S3-FIFO compare to other algorithms </a> <nav class=md-nav aria-label="How does S3-FIFO compare to other algorithms"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dataset-we-used-in-this-blog class=md-nav__link> Dataset we used in this blog </a> </li> <li class=md-nav__item> <a href=#experiemnt-setup class=md-nav__link> Experiemnt setup </a> </li> <li class=md-nav__item> <a href=#efficiency-results class=md-nav__link> Efficiency results </a> </li> <li class=md-nav__item> <a href=#throughput-results class=md-nav__link> Throughput results </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#why-dont-adaptive-algorithms-work-well class=md-nav__link> Why don't adaptive algorithms work well? </a> <nav class=md-nav aria-label="Why don't adaptive algorithms work well?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#can-we-tune-the-adaptive-algorithms-to-work-better class=md-nav__link> Can we tune the adaptive algorithms to work better? </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> Conclusion </a> </li> <li class=md-nav__item> <a href=#acknowledgement class=md-nav__link> Acknowledgement </a> <nav class=md-nav aria-label=Acknowledgement> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dataset-information class=md-nav__link> Dataset information </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class=md-nav> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> <span class=md-ellipsis> Back to index </span> </a> </div> </div> <div class="md-post__authors md-typeset"> <div class="md-profile md-post__profile"> <span class="md-author md-author--long"> <img src=https://avatars.githubusercontent.com/u/8584783 alt="Juncheng Yang"> </span> <span class=md-profile__description> <strong>Juncheng Yang</strong><br> Creator </span> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__title"> <div class=md-nav__link> <span class=md-ellipsis> Metadata </span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"/></svg> <time datetime="2023-08-01 00:00:00" class=md-ellipsis>August 1, 2023</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3H9m3 2 4 13 3-1-4-13-3 1M5 5v13h3V5H5M3 19v2h18v-2H3Z"/></svg> <span class=md-ellipsis> in <a href=../../../../category/algorithm/ >Algorithm</a>, <a href=../../../../category/performance/ >Performance</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7h1.5Z"/></svg> <span class=md-ellipsis> 21 min read </span> </div> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=fifo-queues-are-all-you-need-for-cache-eviction>FIFO queues are all you need for cache eviction<a class=headerlink href=#fifo-queues-are-all-you-need-for-cache-eviction title="Permanent link">&para;</a></h1> <p><strong>TL;DR</strong> </p> <p>In this blog, I will describe a simple, scalable FIFO-based eviction algorithm with three static queues (S3-FIFO). Evaluated on 6594 cache traces from 14 datasets, we show that S3-FIFO has lower miss ratios than 12 state-of-the-art algorithms. Moreover, S3-FIFO’s efficiency is robust — it has the lowest mean miss ratio on 10 of the 14 datasets. The use of FIFO queues enables S3-FIFO to achieve good scalability with 6× higher throughput compared to optimized LRU at 16 threads. </p> <!-- more --> <p>Our insight is that most objects in skewed cache workloads will only be accessed once in a short window, so it is critical to evict them early. And the key of S3-FIFO is a small FIFO queue that filters out most objects from entering the main cache. We show that filtering with a small static FIFO queue has a guaranteed eviction time and higher eviction precision compared to state-of-the-art adaptive algorithms.</p> <h2 id=background>Background<a class=headerlink href=#background title="Permanent link">&para;</a></h2> <p>Software caches, such as Memcached, database buffer pool, and page cache, are widely deployed today to speed up data access. A cache should be 1. <em>efficient / effective</em>: it should provide a low miss ratio allowing most requests to be fulfilled by the fast cache; 2. <em>performant</em>: serving data from the cache should perform minimal operations; and 3. <em>scalable</em>: the number of cache hits it can serve per second grows with the number of CPU cores. The soul of a cache is the <em>eviction algorithm</em>, which dictates a cache's efficiency, throughput, and scalability. </p> <h3 id=lru-and-fifo-based-eviction>LRU and FIFO based eviction<a class=headerlink href=#lru-and-fifo-based-eviction title="Permanent link">&para;</a></h3> <p>While FIFO and LRU are the classics of cache eviction algorithm, many eviction algorithms have been desined in the past few decades to pursue better efficiency, e.g., <a href=https://www.usenix.org/conference/fast-03/arc-self-tuning-low-overhead-replacement-cache>ARC</a>, <a href=https://www.vldb.org/conf/1994/P439.PDF>2Q</a>, <a href=https://ranger.uta.edu/~sjiang/pubs/papers/jiang02_LIRS.pdf>LIRS</a>, <a href=https://arxiv.org/abs/1512.00727>TinyLFU</a>. Because conventional wisdom suggests that LRU provides lower miss ratio than FIFO (<a href=https://blog.jasony.me/system/cache/2023/06/01/fifo-lru.html>although we recently found it to be false</a>), these advanced algorithms are often LRU-based, using different techniques and metrics on top of one or more LRU queues. However, LRU-based algorithms suffer from two problems: (1) it requires two pointers per object, a large storage overhead for workloads consisting of small objects; and (2) it is not scalable because each cache hit requires promoting the requested object to the head of the queue guarded by <em>locking</em>. </p> <h3 id=the-importance-of-simplicity-and-scalability>The importance of simplicity and scalability<a class=headerlink href=#the-importance-of-simplicity-and-scalability title="Permanent link">&para;</a></h3> <p>Modern CPUs have a large number of cores. For example, AMD EPYC 9654P has 192 cores/threads. A cache's scalability measures how its throughput increases with the number of CPU cores. Ideally, a cache's throughput would scale linearly with the number of CPU cores. However, read operations necessitate metadata updates under locking in LRU-based algorithms. Therefore, they cannot fully harness the computation power of modern CPUs.</p> <blockquote> <p>"Predicting which pages will be accessed in the near future is a tricky task, and the kernel has evolved a number of mechanisms designed to improve its chances of guessing right. But the kernel not only often gets it wrong, it also can expend a lot of CPU time to make the incorrect choice". ---- <a href=https://lwn.net/Articles/851184/ >Kernel developers</a></p> </blockquote> <p>A cache eviction algorithm's complexity also plays a critical role in its adoption. While the complexity is often correlated with throughput, a simple design can also bring fewer bugs and reduced maintenance overhead. </p> <h3 id=fifo-is-the-future>FIFO is the future<a class=headerlink href=#fifo-is-the-future title="Permanent link">&para;</a></h3> <p>While the eviction algorithm so far have been centered around LRU, we believe modern eviction algorithms should be designed with FIFO queues. FIFO can be implemented using a ring buffer without per-object pointer metadata, and it does not promote an object upon each cache hit, thus removing the scalability bottleneck. Moreover, FIFO evicts objects in the same order as the insertion, which is a flash-friendly access pattern and minimizes flash writes and wearout. However, FIFO falls behind LRU and state-of-the-art eviction algorithms in efficiency. </p> <h2 id=observation-more-one-hit-wonders-than-you-would-have-expected>Observation: more one-hit wonders than you would have expected<a class=headerlink href=#observation-more-one-hit-wonders-than-you-would-have-expected title="Permanent link">&para;</a></h2> <p>The term ``one-hit-wonder ratio'' measures the fraction of objects that are requested only once in a sequence. It is commonly used in content delivery networks (CDNs) due to large one-hit-wonder ratios. Although one-hit-wonder ratio varies between different types of cache workloads, we find that <strong>shorter request sequences with fewer objects often have higher one-hit-wonder ratios</strong>. </p> <h3 id=a-toy-example>A toy example<a class=headerlink href=#a-toy-example title="Permanent link">&para;</a></h3> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/diagram_oneHit.svg alt="one-hit-wonder ratio toy example" style=width:64%> <figcaption><h4>An illustration of one-hit-wonder ratio (fraction of objects accessed once) increases with shorter request sequence. </h4></figcaption> </figure> <p></center></p> <p>The figure above illustrates this observation using a toy example. The request sequence comprises seventeen requests for five objects, out of which one object (E) is accessed once. Thus, the one-hit-wonder ratio for the sequence is 20%.</p> <p _=% endkatexmm=endkatexmm>{% katexmm %} Considering a shorter sequence from the <span class=arithmatex>\(1^{st}\)</span> to the <span class=arithmatex>\(7^{th}\)</span> request, two (C, D) of the four unique objects are requested only once, which leads to a one-hit-wonder of 50%. Similarly, the one-hit-wonder ratio of a shorter sequence from the <span class=arithmatex>\(1^{st}\)</span> to <span class=arithmatex>\(4^{th}\)</span> request is 67%. </p> <h3 id=examples-from-production-traces>Examples from production traces<a class=headerlink href=#examples-from-production-traces title="Permanent link">&para;</a></h3> <p>Does this hold on production cache workloads? </p> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/one_hit_ratio_trace.svg alt="linear scale" style=width:40%> <img src=/assets/posts/2023-08-16-s3fifo/one_hit_ratio_trace_log.svg alt="log scale" style=width:40%> <figcaption><h4>An illustration of one-hit-wonder ratio on production traces. The full trace has 20% to 60% objects accessed once, however, shorter sequences have much higher one-hit-wonder ratio. </h4></figcaption> </figure> <p></center></p> <p>The figure above show a block cache trace (MSR hm_0) and a key-value trace from Twitter (cluster 52). The X-axis shows the fraction of objects in the trace (in linear and log scales). Compared to the one-hit-wonder ratio of the full trace at 13% (Twitter) and 38% (MSR), a random sub-sequence containing 10% objects has a one-hit-wonder ratio of 26% on the Twitter trace and 75% on the MSR trace. The increase is more significant when the sequence length is further reduced. </p> <p><center></p> <figure style="width: 80%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/one_hit.svg alt=boxplot style=width:80%> <figcaption><h4>A box plot showing one-hit-wonder ratio distribution on 6594 production traces. </h4></figcaption> </figure> <p></center></p> <p>We further analyzed a large cache trace collection of 6594 traces (more details can be found in the result section), and we plot the one-hit-wonder ratio distribution in box plots. Compared to the full traces with a median one-hit-wonder ratio of 26%, sequences containing 50% of the objects in the trace show a median one-hit-wonder ratio of 38%. Moreover, sequences with 10% and 1% of the objects exhibit one-hit-wonder ratios of 72% and 78%, respectively. </p> <h3 id=implication-of-a-large-one-hit-wonder-ratio>Implication of a large one-hit-wonder ratio<a class=headerlink href=#implication-of-a-large-one-hit-wonder-ratio title="Permanent link">&para;</a></h3> <p>The traces we used in the analysis are mostly week-long with a few month-long. Because the cache size is often much smaller than the trace footprint (the number of objects in the trace), <strong>evictions start after encountering a short sequence of requests</strong>. Our observation suggests that if the cache size is at 10% of the trace footprint, approximately 72% of the objects would not be reused before eviction. </p> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/eviction_freq_twitter_lru.svg alt="Twitter LRU" style=width:40%> <img src=/assets/posts/2023-08-16-s3fifo/eviction_freq_msr_lru.svg alt="MSR LRU" style=width:40%> <figcaption><h4>A huge portion of objects in the cache are not accessed before eviction when using LRU, similar observations can be found when using other algorithms. </h4></figcaption> </figure> <p></center></p> <p>We further corroborate the observation with cache simulations. The figure above shows the distribution of object frequency at eviction. Our trace analysis shows that the Twitter trace has a 26% one-hit-wonder ratio for sequences of 10% trace length. The simulation shows a similar result: 26% of the objects evicted by LRU have are not requested after insertion at the cache size of 10% of the trace footprint. Similarly, the MSR trace exhibits a higher one-hit-wonder ratio of 75% for sequences of 10% trace length, and the simulations shows that 82% of the objects evicted by LRU have no reuse. </p> <p><em>It is evident that the cache should filter out these one-hit wonders because they occupy space without providing benefits.</em></p> <h2 id=s3-fifo-an-eviction-algorithm-with-only-fifo-queues>S3-FIFO: an eviction algorithm with only FIFO queues<a class=headerlink href=#s3-fifo-an-eviction-algorithm-with-only-fifo-queues title="Permanent link">&para;</a></h2> <p>Motivated by the observation in the previous section, we have designed a new cache eviction algorithm called S3-FIFO: <strong>S**imple, **S**calable caching with **three</strong> **S**tatic FIFO queues. </p> <p><center></p> <figure style="width: 80%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/diagram_s3fifo.svg alt="S3FIFO diagram" style=width:80%> <figcaption><h4>An illustration of S3-FIFO. </h4></figcaption> </figure> <p></center></p> <p>S3-FIFO uses three FIFO queues: a small FIFO queue (<span style="font-family:Fantasy; font-variant-cap:small-caps">S</span>), a main FIFO queue (<span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>), and a ghost FIFO queue (<span style="font-family:Fantasy; font-variant-cap:small-caps">G</span>). We choose <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> to use 10% of the cache space based on experiments with 10 traces and find that 10% generalizes well. <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> then uses 90% of the cache space. The ghost queue <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span> stores the same number of ghost entries (no data) as <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>. </p> <p><strong>Cache read</strong>: S3-FIFO uses two bits per object to track object access status similar to a capped counter with frequency up to 3<sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup>. Cache hits in S3-FIFO increment the counter by one atomically. Note that most requests for popular objects require no update. </p> <p><strong>Cache write</strong>: New objects are inserted into <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> if not in <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span>. Otherwise, it is inserted into <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>. When <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> is full, the object at the tail is either moved to <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> if it is accessed more than once or <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span> if not. And its access bits are cleared during the move.<br> When <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span> is full, it evicts objects in FIFO order. <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> uses an algorithm similar to FIFO-Reinsertion but tracks access information using two bits. Objects that have been accessed at least once are reinserted with one bit set to 0 (similar to decreasing frequency by 1). </p> <h3 id=implementation>Implementation<a class=headerlink href=#implementation title="Permanent link">&para;</a></h3> <p>Although S3-FIFO has three FIFO queues, it can also be implemented with one or two FIFO queue(s). Because objects evicted from <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> may enter <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>, they can be implemented using one queue with a pointer pointed at the 10% mark. However, combining <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> and <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> reduces scalability because removing objects from the middle of the queue requires locking. </p> <p>The ghost FIFO queue <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span> can be implemented as part of the indexing structure. For example, we can store the fingerprint and eviction time of ghost entries in a bucket-based hash table. The fingerprint stores a hash of the object using 4 bytes, and the eviction time is a timestamp measured in the number of objects inserted into <span style="font-family:Fantasy; font-variant-cap:small-caps">G</span>. We can find out whether an object is still in the queue by calculating the difference between current time and insertion time since it is a FIFO queue. The ghost entries stay in the hash table until they are no longer in the ghost queue. When an entry is evicted from the ghost queue, it is not immediately removed from the hash table. Instead, the hash table entry is removed during hash collision --- when the slot is needed to store other entries. </p> <h2 id=how-does-s3-fifo-compare-to-other-algorithms>How does S3-FIFO compare to other algorithms<a class=headerlink href=#how-does-s3-fifo-compare-to-other-algorithms title="Permanent link">&para;</a></h2> <h3 id=dataset-we-used-in-this-blog>Dataset we used in this blog<a class=headerlink href=#dataset-we-used-in-this-blog title="Permanent link">&para;</a></h3> <p>We evaluated S3-FIFO using a large collection of 6594 production traces from 14 datasets, including 11 open-source and 3 proprietary datasets. These traces span from 2007 to 2023 and cover key-value, block, and object CDN caches. In total, the datasets contain 856 billion requests to 61 billion objects, 21,088 TB traffic for total 3,573 TB of data. More details of the datasets can be found in the table. </p> <style>
    table {
        margin-left: auto;
        margin-right: auto;
    }
</style> <table> <thead> <tr> <th style="text-align: center;">Dataset collections</th> <th style="text-align: center;">Approx time</th> <th style="text-align: center;">Cache type</th> <th style="text-align: center;">time span (days)</th> <th style="text-align: center;">Traces</th> <th style="text-align: center;">Request (million)</th> <th style="text-align: center;">Request (TB)</th> <th style="text-align: center;">Object (million)</th> <th style="text-align: center;">Object (TB)</th> <th style="text-align: center;">One-hit-wonder ratio (full trace)</th> <th style="text-align: center;">One-hit-wonder ratio (10%)</th> <th style="text-align: center;">One-hit-wonder ratio (1%)</th> </tr> </thead> <tbody> <tr> <td style="text-align: center;">MSR</td> <td style="text-align: center;">2007</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">30</td> <td style="text-align: center;">13</td> <td style="text-align: center;">410</td> <td style="text-align: center;">10</td> <td style="text-align: center;">74</td> <td style="text-align: center;">3</td> <td style="text-align: center;">0.56</td> <td style="text-align: center;">0.74</td> <td style="text-align: center;">0.86</td> </tr> <tr> <td style="text-align: center;">FIU</td> <td style="text-align: center;">2008-11</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">9-28</td> <td style="text-align: center;">9</td> <td style="text-align: center;">514</td> <td style="text-align: center;">1.7</td> <td style="text-align: center;">20</td> <td style="text-align: center;">0.057</td> <td style="text-align: center;">0.28</td> <td style="text-align: center;">0.91</td> <td style="text-align: center;">0.91</td> </tr> <tr> <td style="text-align: center;">Cloudphysics</td> <td style="text-align: center;">2015</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">7</td> <td style="text-align: center;">106</td> <td style="text-align: center;">2,114</td> <td style="text-align: center;">82</td> <td style="text-align: center;">492</td> <td style="text-align: center;">22</td> <td style="text-align: center;">0.40</td> <td style="text-align: center;">0.71</td> <td style="text-align: center;">0.80</td> </tr> <tr> <td style="text-align: center;">CDN 1</td> <td style="text-align: center;">2018</td> <td style="text-align: center;">Object</td> <td style="text-align: center;">7</td> <td style="text-align: center;">219</td> <td style="text-align: center;">3,728</td> <td style="text-align: center;">3640</td> <td style="text-align: center;">298</td> <td style="text-align: center;">258</td> <td style="text-align: center;">0.42</td> <td style="text-align: center;">0.58</td> <td style="text-align: center;">0.70</td> </tr> <tr> <td style="text-align: center;">Tencent Photo</td> <td style="text-align: center;">2018</td> <td style="text-align: center;">Object</td> <td style="text-align: center;">8</td> <td style="text-align: center;">2</td> <td style="text-align: center;">5,650</td> <td style="text-align: center;">141</td> <td style="text-align: center;">1,038</td> <td style="text-align: center;">24</td> <td style="text-align: center;">0.55</td> <td style="text-align: center;">0.66</td> <td style="text-align: center;">0.74</td> </tr> <tr> <td style="text-align: center;">WikiMedia CDN</td> <td style="text-align: center;">2019</td> <td style="text-align: center;">Object</td> <td style="text-align: center;">7</td> <td style="text-align: center;">3</td> <td style="text-align: center;">2,863</td> <td style="text-align: center;">200</td> <td style="text-align: center;">56</td> <td style="text-align: center;">13</td> <td style="text-align: center;">0.46</td> <td style="text-align: center;">0.60</td> <td style="text-align: center;">0.80</td> </tr> <tr> <td style="text-align: center;">Systor</td> <td style="text-align: center;">2017</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">26</td> <td style="text-align: center;">6</td> <td style="text-align: center;">3,694</td> <td style="text-align: center;">88</td> <td style="text-align: center;">421</td> <td style="text-align: center;">15</td> <td style="text-align: center;">0.37</td> <td style="text-align: center;">0.80</td> <td style="text-align: center;">0.94</td> </tr> <tr> <td style="text-align: center;">Tencent CBS</td> <td style="text-align: center;">2020</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">8</td> <td style="text-align: center;">4030</td> <td style="text-align: center;">33,690</td> <td style="text-align: center;">1091</td> <td style="text-align: center;">551</td> <td style="text-align: center;">66</td> <td style="text-align: center;">0.25</td> <td style="text-align: center;">0.73</td> <td style="text-align: center;">0.77</td> </tr> <tr> <td style="text-align: center;">Alibaba</td> <td style="text-align: center;">2020</td> <td style="text-align: center;">Block</td> <td style="text-align: center;">30</td> <td style="text-align: center;">652</td> <td style="text-align: center;">19,676</td> <td style="text-align: center;">664</td> <td style="text-align: center;">1702</td> <td style="text-align: center;">117</td> <td style="text-align: center;">0.36</td> <td style="text-align: center;">0.68</td> <td style="text-align: center;">0.81</td> </tr> <tr> <td style="text-align: center;">Twitter</td> <td style="text-align: center;">2020</td> <td style="text-align: center;">KV</td> <td style="text-align: center;">7</td> <td style="text-align: center;">54</td> <td style="text-align: center;">195,441</td> <td style="text-align: center;">106</td> <td style="text-align: center;">10,650</td> <td style="text-align: center;">6</td> <td style="text-align: center;">0.19</td> <td style="text-align: center;">0.32</td> <td style="text-align: center;">0.42</td> </tr> <tr> <td style="text-align: center;">Social Network 1</td> <td style="text-align: center;">2020</td> <td style="text-align: center;">KV</td> <td style="text-align: center;">7</td> <td style="text-align: center;">219</td> <td style="text-align: center;">549,784</td> <td style="text-align: center;">392</td> <td style="text-align: center;">42,898</td> <td style="text-align: center;">9</td> <td style="text-align: center;">0.17</td> <td style="text-align: center;">0.28</td> <td style="text-align: center;">0.37</td> </tr> <tr> <td style="text-align: center;">CDN 2</td> <td style="text-align: center;">2021</td> <td style="text-align: center;">Object</td> <td style="text-align: center;">7</td> <td style="text-align: center;">1273</td> <td style="text-align: center;">37,460</td> <td style="text-align: center;">4,925</td> <td style="text-align: center;">2,652</td> <td style="text-align: center;">1,581</td> <td style="text-align: center;">0.49</td> <td style="text-align: center;">0.58</td> <td style="text-align: center;">0.64</td> </tr> <tr> <td style="text-align: center;">Meta KV</td> <td style="text-align: center;">2022</td> <td style="text-align: center;">KV</td> <td style="text-align: center;">1</td> <td style="text-align: center;">5</td> <td style="text-align: center;">1,644</td> <td style="text-align: center;">958</td> <td style="text-align: center;">82</td> <td style="text-align: center;">76</td> <td style="text-align: center;">0.51</td> <td style="text-align: center;">0.53</td> <td style="text-align: center;">0.61</td> </tr> <tr> <td style="text-align: center;">Meta CDN</td> <td style="text-align: center;">2023</td> <td style="text-align: center;">Object</td> <td style="text-align: center;">7</td> <td style="text-align: center;">3</td> <td style="text-align: center;">231</td> <td style="text-align: center;">8,800</td> <td style="text-align: center;">76</td> <td style="text-align: center;">1,563</td> <td style="text-align: center;">0.61</td> <td style="text-align: center;">0.76</td> <td style="text-align: center;">0.81</td> </tr> </tbody> </table> <h3 id=experiemnt-setup>Experiemnt setup<a class=headerlink href=#experiemnt-setup title="Permanent link">&para;</a></h3> <p>We implemented S3-FIFO and state-of-the-art algorithms in <a href=https://github.com/1a1a11a/libCacheSim>libCacheSim</a>, and used an <a href=https://blog.jasony.me/tool/distComp>in house distributed computation platform</a> for running the large-scale evaluation. Unless otherwise mentioned, we ignore object size because most production systems use slab storage for memory management, for which evictions are performed within the same slab class (objects of similar sizes). Because the large number of traces have a very wide range of miss ratios, we choose to present the miss ratio reduction compared to FIFO. We have also implemented a prototype in Cachelib, the details can be found in our paper. The simulation processed the datasets in close to 100 passes using different algorithms, cache sizes, and parameters. We estimated that over 80,000 billion requests were processed using a million CPU core • hours.</p> <h3 id=efficiency-results>Efficiency results<a class=headerlink href=#efficiency-results title="Permanent link">&para;</a></h3> <p>The primary criticism of the FIFO-based eviction algorithms is their efficiency, the most important metric for a cache. We compare S3-FIFO with 12 state-of-the-art eviction algorithms designed in the past few decades. We use a cache size of 10% of the trace footprint (number of objects in the trace). Other cache sizes show similar results. </p> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/miss_ratio_percentiles_2.svg alt="miss ratio percentile result" style=width:80%> <figcaption><h4>Miss ratio reduction distribution of different algorithms, the cache size is 10% of objects in the trace (more figures in the paper). </h4></figcaption> </figure> <p></center></p> <p>The figure above shows the (request) miss ratio reduction (compared to FIFO) of different algorithms across traces. S3-FIFO has the largest reductions across almost all percentiles than other algorithms. For example, S3-FIFO reduces miss ratios by more than 32% on 10% of the traces (P90) with a mean of 14%. </p> <p><strong>TinyLFU</strong> is the closest competitor. TinyLFU uses a 1% LRU window to filter out unpopular objects and stores most objects in a SLRU cache. TinyLFU's good performance corroborates our observation that quick demotion is critical for efficiency. However, TinyLFU does not work well for all traces, with miss ratios being lower than FIFO on almost 20% of the traces (the P10 point is below -0.05 and not shown in the figure). This phenomenon is more pronounced when the cache size is small, where TinyLFU is worse than FIFO on close to 50% of the traces (not shown). </p> <p>There are two reasons why TinyLFU falls short. First, the 1% window LRU is too small, evicting objects too fast. Therefore, increasing the window size to 10% of the cache size (TinyLFU-0.1) significantly improves the efficiency at the tail (bottom of the figure). However, increasing the window size reduces its improvement on the best-performing traces. Second, when the cache is full, TinyLFU compares the least recently used entry from the window LRU and main SLRU, then evicts the less frequently used one. This allows TinyLFU to be more adaptive to different workloads. However, if the tail object in the SLRU happens to have a very high frequency, it may lead to the eviction of an excessive number of new and potentially useful objects. </p> <p><strong>LIRS</strong> uses LRU stack (reuse) distance as the metric to choose eviction candidates. Because one-hit wonders do not have reuse distance, LIRS utilizes a 1% queue to hold them. This small queue performs quick demotion and is the secret source of LIRS's high efficiency. Similar to TinyLFU, the queue is too small, and it falls short on some cache workloads. However, compared to TinyLFU, fewer traces show higher-than-FIFO miss ratios because the inter-recency metric in LIRS is more robust than the frequency in TinyLFU. In particular, TinyLFU cannot distinguish between many objects with the same low frequency (e.g., 2), but these objects will have different inter-recency values. The downside is that LIRS requires a more complex implementation than TinyLFU. </p> <p><strong>2Q</strong> has the most similar design to S3-FIFO. It uses 25% cache space for a FIFO queue, the rest for an LRU queue, and also has a ghost queue. Besides the difference in queue size and type, objects evicted from the small queue are \emph{not} inserted into the LRU queue. Having a large probationary queue and not moving accessed objects into the LRU queue are the primary reasons why 2Q is not as good as S3-FIFO. Moreover, we observe that the LRU queue does not provide observable benefits compared to the FIFO queue (with reinsertion) in S3-FIFO. </p> <p><strong>SLRU</strong> uses four equal-sized LRU queues. Objects are first inserted into the lowest-level LRU queue and promoted to higher-level queues upon cache hits. An inserted object is evicted if not reused in the lowest LRU queue, which performs quick demotion and allows SLRU to show good efficiency. However, unlike other schemes, SLRU does not use a ghost queue, making it not scan-tolerant because popular objects mixed in the scan cannot be distinguished. Therefore, we observe that SLRU performs poorly on many block cache workloads (not shown). </p> <p><strong>ARC</strong> uses four LRU queues: two for data and two for ghost entries. The two data queues are used to separate recent and frequent objects. Cache hits on objects in the recency queue promote the objects to the frequency queue. Objects evicted from the two data queues enter the corresponding ghost queue. The sizes of queues are adaptively adjusted based on hits on the ghost queues. When the recency queue is small, newly inserted objects are quickly evicted, enabling ARC's high efficiency. However, ARC is less efficient than S3-FIFO because the adaptive algorithm is not sufficient. We discuss more in \S\ref{sec:discussion:adaptive}. </p> <p><strong>Recent algorithms</strong>, including <a href=https://www.usenix.org/conference/fast21/presentation/rodriguez>CACHEUS</a>, <a href=https://www.usenix.org/conference/hotstorage18/presentation/vietri>LeCaR</a>, <a href=https://www.usenix.org/conference/nsdi18/presentation/beckmann>LHD</a>, and <a href=https://segcache.com>FIFO-Merge</a> are also evaluated. However, we find these algorithms are often less competitive than the traditional ones. In particular, FIFO-merge was designed for log-structured storage and key-value cache workloads without scan resistance. Therefore, similar to SLRU, it performs better on web cache workloads but much worse on block cache workloads. </p> <p><strong>Common algorithms</strong>, such as B-LRU (Bloom Filter LRU), CLOCK, and LRU. CLOCK and LRU do not allow quick demotion, so their miss ratio reductions are small. B-LRU is the other extreme. It rejects all one-hit wonders at the cost of the second request for all objects being cache misses. Because of these misses, B-LRU is worse than LRU in most cases. </p> <p><strong>Adversarial workloads for S3-FIFO</strong>: We studied the limited number of traces on which S3-FIFO performed poorly and identified one pattern. Most objects in these traces are accessed only twice, and the second request falls out of the small FIFO queue <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span>, which causes the second request to these objects to be cache misses. These workloads are adversarial for most algorithms that partition the cache space, e.g., TinyLFU, LIRS, 2Q, and CACHEUS. Because the partition for newly inserted objects is smaller than the cache size, it is possible that the second request is a cache hit in LRU and FIFO, but not in these advanced algorithms. </p> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/miss_ratio_per_dataset_2.svg alt="miss ratio percentil result" style=width:80%> <figcaption><h4>Mean miss ratio reduction of different state-of-the-art algorithms (more results in the paper). S3-FIFO is the best on 10 of the 14 datasets. </h4></figcaption> </figure> <p></center></p> <p>Not only being efficient, the efficient of S3-FIFO is also robust. The figure above shows the mean miss ratio reduction on each dataset using selected algorithms. S3-FIFO often outperforms all other algorithms by a large margin. Moreover, it is the best algorithm on 10 out of the 14 datasets, and among the top three most efficient algorithms on 13 datasets. As a comparison, TinyLFU and LIRS are among the top algorithms on some datasets, but on other datasets, they are among the worst algorithms. </p> <p>While (request) miss ratio is important for most, if not all, cache deployments, CDNs also widely use byte miss ratio to measure bandwidth reduction.<br> Compared to other algorithms, S3-FIFO presents larger byte miss ratio reductions similar to the figure shown. </p> <h3 id=throughput-results>Throughput results<a class=headerlink href=#throughput-results title="Permanent link">&para;</a></h3> <p>It is easy to see that as a FIFO-base algorithm, S3-FIFO is more scalable than LRU-based algorithms. Our implementation in Cachelib achieves 6x higher throughput than the optimized LRU in Cachelib at 16 threads. More details can be found in the paper. </p> <h2 id=why-dont-adaptive-algorithms-work-well>Why don't adaptive algorithms work well?<a class=headerlink href=#why-dont-adaptive-algorithms-work-well title="Permanent link">&para;</a></h2> <p _=% endkatexmm=endkatexmm>There are several adaptive algorithms, e.g., ARC and TinyLFU, that also perform quick demotion and should work as least as good as S3-FIFO in theory. Where do they fall short? We take a closer look at demotion speed and precision to get a deeper understanding. The <em>normalized quick demotion speed</em> measures how long objects stay in <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> before they are evicted or moved to <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>. {% katexmm %} We use the LRU eviction age as a baseline and calculate the speed as <span class=arithmatex>\(\frac{\text{LRU eviction age}}{\text{time in } \mathcal{S}}\)</span>. Here we use logical time measured in request count. The quick demotion precision measures how many objects evicted from <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> are not reused soon. Using an idea similar to previous work~\cite{song_learning_2020}, if the number of requests till an object's next reuse is larger than <span class=arithmatex>\(\frac{\text{cache size}}{\text{miss ratio}}\)</span>, then we say the quick demotion results in a correct early eviction.</p> <p>An algorithm with both faster and more precise quick demotion exhibits a lower miss ratio. </p> <p><center></p> <figure style="width: 96%" class=align-center> <img src=/assets/posts/2023-08-16-s3fifo/twitter_demotion_0.1.svg alt="Twitter large" style=width:40%> <img src=/assets/posts/2023-08-16-s3fifo/msr_demotion_0.1.svg alt="MSR large" style=width:40%> <figcaption><h4>The normalized mean quick demotion speed and precision of different algorithms. TinyLFU and S3-FIFO use different small queue sizes (1%, 2%, 5%, 10%, 20%, 30%, and 40% of cache size) and have multiple points with lighter colors representing larger sizes. The marker of 10% small queue size is highlighted with a larger size. The left figure shows the Twitter workload, and the right figure shows the MSR workload. </h4></figcaption> </figure> <p></center></p> <p>Miss ratios on the Twitter and MSR traces when using different <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> sizes. On the Twitter trace, ARC has a miss ratio 0.0483, LRU has miss ratio 0.0488. On the MSR trace, ARC has a miss ratio 0.2891, LRU miss ratio 0.3188. </p> <table> <thead> <tr> <th>Trace</th> <th>S size</th> <th style="text-align: center;">0.01</th> <th style="text-align: center;">0.02</th> <th style="text-align: center;">0.05</th> <th style="text-align: center;">0.10</th> <th style="text-align: center;">0.20</th> <th style="text-align: center;">0.30</th> <th style="text-align: center;">0.40</th> </tr> </thead> <tbody> <tr> <td>Twitter</td> <td>TinyLFU</td> <td style="text-align: center;">0.0437</td> <td style="text-align: center;">0.0437</td> <td style="text-align: center;"><strong>0.0586</strong></td> <td style="text-align: center;"><strong>0.0530</strong></td> <td style="text-align: center;">0.0441</td> <td style="text-align: center;">0.0445</td> <td style="text-align: center;">0.0451</td> </tr> <tr> <td>Twitter</td> <td>S3-FIFO</td> <td style="text-align: center;">0.0423</td> <td style="text-align: center;">0.0422</td> <td style="text-align: center;">0.0422</td> <td style="text-align: center;">0.0424</td> <td style="text-align: center;">0.0432</td> <td style="text-align: center;">0.0442</td> <td style="text-align: center;">0.0455</td> </tr> <tr> <td>MSR</td> <td>TinyLFU</td> <td style="text-align: center;">0.2895</td> <td style="text-align: center;">0.2904</td> <td style="text-align: center;">0.2893</td> <td style="text-align: center;">0.2900</td> <td style="text-align: center;">0.2936</td> <td style="text-align: center;">0.2949</td> <td style="text-align: center;">0.2990</td> </tr> <tr> <td>MSR</td> <td>S3-FIFO</td> <td style="text-align: center;">0.2889</td> <td style="text-align: center;">0.2887</td> <td style="text-align: center;">0.2884</td> <td style="text-align: center;">0.2891</td> <td style="text-align: center;">0.2896</td> <td style="text-align: center;">0.2936</td> <td style="text-align: center;">0.2989</td> </tr> </tbody> </table> <p>The figure and table above show that ARC, TinyLFU, and S3-FIFO can quickly demote new objects and have lower miss ratios compared to LRU.</p> <p><strong>ARC</strong> uses an adaptive algorithm to decide the size of <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> (recency queue). We find that the algorithm can identify the correct direction to adjust the size, but the size it finds is often too large or too small. For example, ARC chooses a very small <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> on the Twitter trace, causing most new objects to be evicted too quickly with low precision. This happens because of two trace properties. First, objects in the Twitter trace often have many requests; Second, new objects are constantly generated. Therefore, objects evicted from <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> are requested very soon, causing <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> to shrink to a very small size (around 0.01% of cache size). Meanwhile, constantly generated new (and popular) objects in <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> face more competition and often have to suffer a miss before being inserted in <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>, which causes low precision and a high miss ratio (Table~\ref{table:missratio}). On the MSR trace, ARC has a reasonable speed with relatively high precision, which correlates with its low miss ratio. </p> <p><strong>TinyLFU</strong> and S3-FIFO have a predictable quick demotion speed --- reducing the size of <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> always increases the demotion speed. When Using the same <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> size, TinyLFU demotes slightly faster than S3-FIFO because it uses LRU, which keeps some old but recently-accessed objects, squeezing the available space for newly-inserted objects. </p> <p>Besides, <em>S3-FIFO often shows higher precision than TinyLFU at a similar quick demotion speed</em>, which explains why S3-FIFO has a lower miss ratio. TinyLFU compares the eviction candidates from <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> and <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>, then evicts the less-frequently-used candidate. When the eviction candidate from <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span> has a high frequency, it causes many worth-to-keep objects from <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> to be evicted. This causes not only a low precision but also unpredictable precision and miss ratio cliffs. For example, the precision shows a large dip at 5% and 10% <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> size, corresponding to a sudden increase in the miss ratio (in the table). </p> <p>Although S3-FIFO does not use advanced techniques, it achieves a robust and predictable quick demotion speed and precision. As <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> size increases, the speed decreases monotonically (moving towards the left in the figure), and the precision also increases until it reaches a peak. When <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> is very small, popular objects do not have enough time to accumulate a hit before being evicted, so the precision is low. Increasing <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> size leads to higher precision. When <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> is very large, many unpopular objects are requested in <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> and moved to <span style="font-family:Fantasy; font-variant-cap:small-caps">M</span>, leading to reduced precision as well. The miss ratio presented in the table shows that at similar quick demotion speed, higher precision always leads to lower miss ratios. </p> <h3 id=can-we-tune-the-adaptive-algorithms-to-work-better>Can we tune the adaptive algorithms to work better?<a class=headerlink href=#can-we-tune-the-adaptive-algorithms-to-work-better title="Permanent link">&para;</a></h3> <p>We have also experimented with using an adaptive algorithm to change the size of FIFO queues in S3-FIFO. The results show that using an adaptive algorithm can improve the tail performance, but degrade overall performance. We find that tuning the adaptive algorithm is very challenging. </p> <p>In fact, adaptive algorithms all have many parameters. For example, queue resizing requires several parameters, e.g., the frequency of resizing, the amount of space moved each time, the lower bound of queue sizes, and the threshold for trigger resizing. </p> <p>Besides the many hard-to-tune parameters, adaptive algorithms adapt based on observation of the past. However, the past may not predict the future. We find that small perturbations in the workload often cause the adaptive algorithm to overreact. It is unclear how to balance between under-reaction and overreaction without introducing more parameters. Moreover, some adaptive algorithms implicitly assume that the miss ratio curve is convex because following the gradient direction leads to the global optimum. However, the miss ratio curves of scan-heavy workloads are often not convex. </p> <p>Although we have shown that S3-FIFO is not sensitive to <span style="font-family:Fantasy; font-variant-cap:small-caps">S</span> size, and the queue size is easier to choose than tuning an adaptive algorithm. We believe adaptations are still important, but how to adapt remains to be explored. For systems that need to find the best parameter, downsized simulations using spatial sampling can be used.</p> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>We demonstrate that a cache often experiences a higher one-hit-wonder ratio than common full trace analysis. Our study on 6594 traces reveals that quickly removing one-hit wonders (quick demotion) is the secret weapon of many advanced algorithms. Motivated by this, we design S3-FIFO, a **S**imple and **S**calable cache eviction algorithm composed of only **S**tatic FIFO queues. Our evaluation shows that S3-FIFO achieves better and more robust efficiency than state-of-the-art algorithms. Meanwhile, it is more scalable than LRU-based algorithms. </p> <h2 id=acknowledgement>Acknowledgement<a class=headerlink href=#acknowledgement title="Permanent link">&para;</a></h2> <p>There are many people I would like to thank, including but not limited to my co-authors, Carnegie Mellon University Parallel Data Lab (and our sponsors), and Cloudlab. I would also like to give a big shoutout to the people and organizations that open-sourced and shared the traces. </p> <h3 id=dataset-information>Dataset information<a class=headerlink href=#dataset-information title="Permanent link">&para;</a></h3> <ul> <li><a href=https://github.com/twitter/cache-traces>Twitter</a></li> <li><a href="http://iotta.snia.org/traces/parallel?only=27917">Tencent Block</a></li> <li><a href="http://iotta.snia.org/traces/parallel?only=27476">Tencent Photo</a></li> <li><a href=https://wikitech.wikimedia.org/wiki/Analytics/Data_Lake/Traffic/Caching>Wikimedia CDN</a></li> <li><a href=https://github.com/alibaba/block-traces>Alibaba Block</a></li> <li><a href="http://iotta.snia.org/traces/block-io?only=388">MSR</a></li> <li><a href="http://iotta.snia.org/traces/block-io?only=390">FIU</a></li> <li><a href=https://www.usenix.org/conference/fast15/technical-sessions/presentation/waldspurger>CloudPhysics</a></li> <li><a href=https://cachelib.org/docs/Cache_Library_User_Guides/Cachebench_FB_HW_eval/ >Meta</a></li> </ul> <p>This work is published at SOSP'23, more details can be found <a href=https://jasony.me/publication/sosp23-s3fifo.pdf>here</a>, and the slides can be found <a href=https://jasony.me/slides/hotos23-qdlp.pdf>here</a>. </p> <div class=footnote> <hr> <ol> <li id=fn:1> <p>We have also experienced with 1-bit counter, which shows slightly worse efficiency; however, we choose to use 2-bit because it is more robust and filters out more objects.&#160;<a class=footnote-backref href=#fnref:1 title="Jump back to footnote 1 in the text">&#8617;</a></p> </li> </ol> </div> </article> </div> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../../06/01/fifo-is-better-than-lru-the-power-of-lazy-promotion-and-quick-demotion/ class="md-footer__link md-footer__link--prev" aria-label="Previous: the Power of Lazy Promotion and Quick Demotion" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> the Power of Lazy Promotion and Quick Demotion </div> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/squidfunk target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/squidfunk/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/squidfunk/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://pypi.org/project/mkdocs-material/ target=_blank rel=noopener title=pypi.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg> </a> <a href=https://fosstodon.org/@squidfunk target=_blank rel="noopener me" title=fosstodon.org class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z"/></svg> </a> <a href=https://twitter.com/squidfunk target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../../../assets/javascripts/workers/search.780af0f4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../../../../assets/javascripts/bundle.f11ae8b1.min.js></script> </body> </html>